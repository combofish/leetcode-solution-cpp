/**
-- method:

--result:

 */

#include "combofish_utils.hpp"
#include <algorithm>

bool isDifferent(const string &s1, const string &s2) {
  unordered_set<char> uset;

  for (const char &c : s1)
    uset.emplace(c);

  for (const char &c : s2) {
    if (uset.find(c) != uset.end())
      return false;
  }

  return true;
}

int maxProduct(vector<string> &words) {
  std::sort(words.begin(), words.end(), [](const string &s1, const string &s2) {
    if (s1.size() == s2.size())
      return s1 > s2;
    else
      return s1.size() > s2.size();
  });

  IC(words);

  int n = words.size();
  int ret = -1;
  for (int i = 0; i < n - 1; ++i) {
    for (int j = i + 1; j < n; ++j) {
      if (isDifferent(words[i], words[j])) {
        int res = words[i].size() * words[j].size();
        ret = std::max(ret, res);
        IC(words[i], words[j], res, ret);
      }
    }
  }

  return ret;
}

int main() {
  // code start

  vector<string> words = {"gfgc",
                          "bfdcabbbdbfd",
                          "acbeaacfecfbdagaebbeagddgb",
                          "fdfefbgffegfcc",
                          "cagcbgg",
                          "eff",
                          "fcdabfcaa",
                          "gggdcfacfcdeecfdcbfaeadbec",
                          "eaccfagbcagafagfebgdc",
                          "aaebefcebcfe",
                          "ebdcge",
                          "aaeecgcacaece",
                          "gfgdafecedbgbaccggegbadfcca",
                          "bebefebffdfabcfdg",
                          "fdcdaggdcaceabgadgbgab",
                          "agdcggbcdagbbcbgaeagaggf",
                          "caccecbaggfa",
                          "ecegegdcaef",
                          "ffaadgaedggabaccebggc",
                          "acgaeeafffbbebfcdfdgebcbbg",
                          "aacdefgfbaedggfe",
                          "bbcfgddgeafcfdbadccgade",
                          "bddeacgaggfeeageaaagaccdga",
                          "ge",
                          "gbgbgebefgefddfdfg",
                          "adfdeegacaeabafeafeggdbdabe",
                          "ggafeacfgeafggfefggb",
                          "afggdcacfafbdcgbb",
                          "agedabcfb",
                          "dgdbfa",
                          "cccgcdfedafgbccdbagebe",
                          "dgaadebcggbagbafgbaaecd",
                          "gg",
                          "fggbeeefdcgcfaeacbbadbfgd",
                          "abdegggfeacfcacgceadgbfddc",
                          "febd",
                          "afdabadgeedbcg",
                          "ggc",
                          "acefcbec",
                          "eaeffebcfgeffccafdb",
                          "aeedfc",
                          "eabcd",
                          "cfafcecbdegd",
                          "bgegdccdcgebbecegbgg",
                          "bdadfdgdceegd",
                          "gefecgbacedcafcgeec",
                          "bdfbbac",
                          "debgcggbggbaeacgaddcbbefcde",
                          "fccfe",
                          "acfacgaegeg",
                          "cdcfecadbfcag",
                          "efc",
                          "caccdaafegbdaafedbabfebfe",
                          "dcbedbaagbccd",
                          "gcbgceaefgfbceegf",
                          "ab",
                          "aee",
                          "aaa",
                          "gecaccebbbdgd",
                          "eeaafgcggedbgcfadcedffgb",
                          "abcbbgddfbecceebg",
                          "fd",
                          "bccgcgagcdd",
                          "ccagbdfagdecgdc",
                          "fcbfedaagde",
                          "cgcebebecfgffgcdgc",
                          "cbeedgdgecbfcfdcgbdbcd",
                          "cagccdedbffcfabcacegbe",
                          "bgfbebdbbecabgagafagcecdabf",
                          "bcddffgefeaabbddedgbee",
                          "abbfade",
                          "agggbebegcegebfe",
                          "baaecbgbdaaaged",
                          "fad",
                          "daccccdfdgedbdgebcaeeecaba",
                          "cfeffaegg",
                          "bcaac",
                          "aadbcbddedbbabf",
                          "bdcfegccfgefb",
                          "aab",
                          "fggagcf",
                          "be",
                          "eabf",
                          "cbg",
                          "cbggbededceffddabbfcg",
                          "aegdfffdbc",
                          "ffggdgga",
                          "aeb",
                          "gfbdeegadccdbgedcebce",
                          "ebcgdbc",
                          "aad",
                          "fegeeeeaccfbfdgdefgef",
                          "fbgaaaddcf",
                          "ceebfdegcegdgdcbbddadfe",
                          "egdbfabgfafgaeafagb",
                          "cbdg",
                          "ebceedadcfd",
                          "cbbgecfeegbadbea",
                          "cgccbfbgaaeceff",
                          "ebcffgbfdggfbbgdeeaddbdec",
                          "dbcbddgdcegbabbgfgecdbgfe",
                          "cddfgcfbabdffaadfgeebdgd",
                          "cfcaaafaab",
                          "cegdaafcffbfedgaeeedbecb",
                          "fdaeggagcaecadadaacgfdg",
                          "fafagffbegcedededaaeaf",
                          "bbdabacabcfgage",
                          "edeaddebgagacdagecebebge",
                          "eeecfg",
                          "eefbcefdcabadecgfcfdfgefa",
                          "dgccagdaed",
                          "bbegfdfeacaddgacddbbfgcfde",
                          "bdc",
                          "affgecdbgeebffdfadg",
                          "adcafc",
                          "cbagc",
                          "cbbffebea",
                          "agfa",
                          "efbcffegabfeggdegdd",
                          "eededbdegdefeebfebbaf",
                          "agacdagfebdadaddedcddg",
                          "bafadccdfdbcfbbdgagafg",
                          "ebaefgfg",
                          "ecgbacffdfgdagae",
                          "gfedefgecbcffagbagbeeefaeab",
                          "dabebafabcfebbebbda",
                          "agdgedccdccdgcbgdcebfbaccf",
                          "fagacdccbgagabebac",
                          "efaeb",
                          "bbfadbbgdcgbefdfbeededabd",
                          "gc",
                          "ddebgedfgcfeedgdbagebfceafe",
                          "gadeabb",
                          "cecgeagddcdf",
                          "gbccdgccccgbdcbebabebfba",
                          "deegcee",
                          "fcedcabeg",
                          "gdfdgebggcadaeafcddbeegfc",
                          "agcfdbdg",
                          "bbafdbdccdcfgfe",
                          "fcbcdee",
                          "ebeddcagadccbadd",
                          "afadebbefcddgdg",
                          "acfdeedcgdcecfagacdacg",
                          "bcdbcgegegdgcdcgcfcggafda",
                          "acdcfaacedegebccc",
                          "addabdcgegdcdbbaeabfggg",
                          "fcedefdeeaeaeab",
                          "befdggaff",
                          "eafggc",
                          "dcdccadcdfebca",
                          "eedecdbcgfeabggbge",
                          "edccadbgeggb",
                          "bbagdcfbaac",
                          "fegfddaeedfd",
                          "abdgeaefbefdfdgb",
                          "eadegdd",
                          "cdcffaadfcaedeeegacc",
                          "bafaebcgaca",
                          "feeggdbgfeecgfefabccg",
                          "fegaddf",
                          "bfgffgffdffcffagbdc",
                          "bgcbcdbdgcfga",
                          "ddegbbfa",
                          "ddedccefecdgfdaccdadfffbaeb",
                          "cfgbfaaabbbbgaeabadccdeeff",
                          "fddgdbeabfggafdgcbede",
                          "gggfffgdgdgdfdcaefegd",
                          "fdc",
                          "fffcgfeadadgefcgaefccff",
                          "gggebebfgggfeeafbbdefb",
                          "afedacbeffefcfddbfdaefdfd",
                          "bbdffgacfgaebcab",
                          "bcfeggaecbeafcddgbbgce",
                          "dfgffbeegbba",
                          "gadbf",
                          "egcbgedgda",
                          "fbfbefce",
                          "cfdcacfcdgbaagag",
                          "egaae",
                          "edbabfcfcddgfffbggecfdbfcfg",
                          "ef",
                          "bfagffb",
                          "adgcdbaafagd",
                          "dfgeeddggaebabececbbeba",
                          "aabccfgggafgbebac",
                          "acgc",
                          "dcfbdbgfg",
                          "fcbgacfbde",
                          "fabdadadgfc",
                          "dggfegee",
                          "dgggaefeddaeafggaa",
                          "geegfabeeadddgbgegagdcecbad",
                          "ffbeacbegecegdaadcc",
                          "facbfdeeafddececf",
                          "fddfebfd",
                          "efb",
                          "egebdfggdccdecdcdagfgacdcc",
                          "eeebbdbefcdfacdbc",
                          "aaedbedfaegadfagec",
                          "agcddbab",
                          "ffabffgdgcdbeeacgagfae",
                          "ggfea",
                          "begdg",
                          "ceddafddgb",
                          "bafgbddabefbgedagadgeadg",
                          "gbcfbgf",
                          "gagfggdbfccc",
                          "cffag",
                          "cccegcfagdeefggbdcf",
                          "adcdgac",
                          "ffbg",
                          "ccgcedecceb",
                          "adegacd",
                          "egbbgfacg",
                          "cabece",
                          "bcaeaecddbefbdf",
                          "edbedbag",
                          "eaffdgfgcdbdfdccagaad",
                          "fdfgebddgbebgbbbdffge",
                          "eadaccgbaf",
                          "aedfeccdffeffabgdfbea",
                          "bdceebcgaccedbdabffdffbfag",
                          "fdgfegeeabeegbcaebdf",
                          "cdebccda",
                          "ddabfdfbefbeaecbcabcdbd",
                          "fdedeeadcbedfdbdfgcf",
                          "cfgabaefcbdfcbfdbbcafdcdeb",
                          "fecccacgcecgcbbadabbcace",
                          "caadeeadbfgebdbaa",
                          "bcbgbffcbbbfbf",
                          "bfgdfeac",
                          "fceccaagaa",
                          "bagbcfefbeddgec",
                          "cdfbbbbadeacacbgaffccfbegg",
                          "adcageadebeecgdeefegfaaadde",
                          "daabfggdeafebeaad",
                          "addaefbefbdfgegdbcffgdedefe",
                          "ddadbbcccfbacaceffde",
                          "bggeagfedg",
                          "bfgabcbbcdbgdgg",
                          "cefeagbcfae",
                          "ceafefb",
                          "gcbdegfaeaegbc",
                          "dcgcefdcgfggeefbeacebfg",
                          "ccdfce",
                          "faccebdgcbegeedccfeececbc",
                          "efabeaacfddacadfgfcgd",
                          "addfaeaaafffd",
                          "agc",
                          "edfdgcabecffacefdcecfbfegc",
                          "ddaeaeaeccedgbccfefbee",
                          "ag",
                          "cedfcacaagadfcgddcgb",
                          "dfagcceccgdbbcdc",
                          "gbceee",
                          "edfdaabeedbfea",
                          "cgbcaeaebafcbccbcdbecgcdbg",
                          "ffadceefbfeccebf",
                          "gf",
                          "edacdffff",
                          "egbf",
                          "fefgfeecfgfdag",
                          "afeaaebcbcacgcgdde",
                          "cgffbafeggggdbeebabg",
                          "bbgggfadbecegdaafcg",
                          "db",
                          "bddgaaaacbfgagfd",
                          "becfaabeedcgg",
                          "bagggagfdcggdgfbfc",
                          "fbafcefbefbcaeceabdegdef",
                          "gfccggfgefd",
                          "cfdebac",
                          "dfbcfecdgfgfbggdggaabcee",
                          "acddabagddggaeefdbbcfebbfd",
                          "gabcceafdcaeefbae",
                          "fegcecgeggbdgcbcdg",
                          "baffcegadcfaffbfcbedaecaf",
                          "dbdaedcgcgbcgcacafabgca",
                          "dgbeccbbbcdegffe",
                          "eeadefede",
                          "cedbgfgeabcgagebe",
                          "ffdceegagcffdgdbcfbffdgcg",
                          "gcdbddgcd",
                          "ccddagaafaabebaabg",
                          "dedfgdefecfgggbbcececdg",
                          "fdbfadd",
                          "dgbdgdg",
                          "aefgbcbed",
                          "daaaebcfefddfcfffadbgab",
                          "egeefeaeddbgfaag",
                          "cbaaaagceeddefeecbbcgeagcdf",
                          "gggddccfaca",
                          "cefgedgdcdgaadabcabfac",
                          "faceedgecbcd",
                          "ecebb",
                          "gagfddfggcefgdgggfe",
                          "gc",
                          "bcbdacdeacdbcd",
                          "gddcabaececbdbbeaadfagf",
                          "abddceebgfga",
                          "edgcgcfggafbbcgfcadfaaddc",
                          "cggbcccfbab",
                          "fbcgggf",
                          "aacceefbdcfdfebeb",
                          "dabaebfbfgcddc",
                          "faedc",
                          "gfgaede",
                          "decfccbgbgdcbffeafg",
                          "abaf",
                          "dgdfdagagbd",
                          "gddcacg",
                          "gbfff",
                          "fcddcfdeaddebdbeffeeaacbbe",
                          "feffeccbgcadfffge",
                          "gfgbagfae",
                          "gfceaeabbgebaedafacbg",
                          "gfcbgccgd",
                          "deggbcc",
                          "gdcb",
                          "adcdffbebccbfdbacaagdaacdg",
                          "bbadcbgffgaaeecfagbfcf",
                          "adffcgeedfcafcebagdfdaagd",
                          "cfefc",
                          "efcc",
                          "eadgdbfggbfafabaa",
                          "gffdbcbcbbece",
                          "cgfccdbfffef",
                          "abcgbcbfcebeg",
                          "dega",
                          "fcecfeadaf",
                          "eefcfafecabgeedgae",
                          "bcagdcfgggcg",
                          "adcgbabcebcfaeacgg",
                          "babgbdbgbgb",
                          "eabdbacacdddd",
                          "fcgabbbgadgeceefdgedbdbbg",
                          "efc",
                          "bbbgacfbdffbgbe",
                          "feccbdecaggad",
                          "ebadefcfcbgbcbafgbfebf",
                          "bcadaeeaeceefgcgbcb",
                          "gcbceg",
                          "ffcaecgfebgeefegdeceefgge",
                          "abagd",
                          "fbdbedd",
                          "gac",
                          "babafgdfdggfgcdfdeb",
                          "fgbgcgcafacfbd",
                          "gc",
                          "ffecccgcgfbgdgedbefgcb",
                          "cfd",
                          "egfgfagecbaacaadfdf",
                          "faebcffaee",
                          "gbfcb",
                          "bacbgddcfbegbdacaggag",
                          "egfgcacgggecdgbegaeg",
                          "feafadgfcgegbeccbfcfefabb",
                          "dcbga",
                          "bbeeegfgedfd",
                          "bacdcg",
                          "aebgdcgdebcf",
                          "dbbaefcdfcadacebddfbcgg",
                          "egfbggabgadcdffafdaeebgdc",
                          "eadgbeccbgdffffcgfedfbbdbf",
                          "fbaabcadgebgebbacfg",
                          "eafdefaaacfbgggafbfb",
                          "febf",
                          "fbdfedcgaagaegdedgebedecg",
                          "aeecaegf",
                          "aeeff",
                          "daeccfeaabfabe",
                          "afcbdgge",
                          "agebffcbbcccaccf",
                          "bfddagefagbbaaeeadc",
                          "feagagebgg",
                          "aacgcagbcfceacdbfdedefgga",
                          "egaffdbg",
                          "edfdcfbeecgbbbdegdcegff",
                          "cac",
                          "agcbfbcafaeccfcdfdgg",
                          "ebedbbcga",
                          "fdbgge",
                          "caceagefebcggfffdfabegg",
                          "afbbagdeeaccgeedebdaeca",
                          "faeeddgfddddfddebgcfebaf",
                          "dbfedfdcdgcdbcb",
                          "dfcg",
                          "cg",
                          "ddagebcacadafa",
                          "baagcccfdfcecaabdcbbea",
                          "daefbfdgbeadbfgbade",
                          "bdfbddecfeebccbdfbfe",
                          "egcbddfddebfgefaacbcc",
                          "eab",
                          "dedcbgcd",
                          "bgggdeegdedfcecbbfgc",
                          "bbcggfeggcbfgaecgacbc",
                          "bcefeedaadgccg",
                          "ggffddegcdcgbfgadfgfbdagcg",
                          "dedbfbbgefgbacgbg",
                          "cbeeffefaeadgfebgecgaea",
                          "gfafgbf",
                          "bbaccgfagd",
                          "ddacbdegcdcdf",
                          "eafabfdccdec",
                          "adaaddbfaddcgeddgab",
                          "dcdcddbdgfcefbefedabe",
                          "egbbagadcecacdbgbccecfg",
                          "abfb",
                          "eegdbdga",
                          "ddcbffegdffga",
                          "cfab",
                          "bc",
                          "bac",
                          "aaeadfcgaeaecfdbfdadaf",
                          "gbgaa",
                          "cfcgceeabefcefdadbac",
                          "ffddddfgaddbcdfg",
                          "fgedabedegaaddea",
                          "gfefdfgfeddedc",
                          "cddbgbgbacfgb",
                          "edeedgeddadeecgd",
                          "eagbgggadgbgbfdcaccb",
                          "gadggdedfbgfgbfbffaadcccb",
                          "bddecffdffbbecdebgfdegc",
                          "baeaff",
                          "fcgba",
                          "bd",
                          "acabe",
                          "dceegeefbgbga",
                          "dgbff",
                          "ceegcabefecabggdbdbbg",
                          "cfecdffeggecdbb",
                          "dbff",
                          "fea",
                          "aegdbcbbbebdabbde",
                          "gf",
                          "eddafcfbaabfcgfaebcdfa",
                          "acdfcbdg",
                          "febagcdbfcedd",
                          "eebdfadbeaedadddgbaebeegfd",
                          "bbfcfbbedbbd",
                          "agecfeggedgafa",
                          "edbcgdcdebbfccaca",
                          "ffegcaggegeggcdegbgbgfb",
                          "bfbfacdgffgbbedcafdcdcfga",
                          "gbbfbeffegbaaf",
                          "gggbgfeddgcbfceeb",
                          "effgbbacbafgagedfe",
                          "gbdaeaaeg",
                          "fe",
                          "cddegcgbfggbfb",
                          "bfc",
                          "bcafcfgcfbeedafafecdgfc",
                          "eefeefcbedegaggb",
                          "dabafddcdfbdfgdcdabbdcafbga",
                          "bbdgbcdedgbecfbcacaafca",
                          "fcbedfbgcaffceeffbebcfbbf",
                          "bdecgfccedabd",
                          "cgfcdbgecbg",
                          "egdfada",
                          "fcgeceegac",
                          "bebged",
                          "cbefbcafdccffgdefcd",
                          "cd",
                          "cdcgafefdfgggfadccffdfg",
                          "aa",
                          "bcffaccaf",
                          "fdbfgcdfcg",
                          "dfaafffbdfgdbcebcfbeddgd",
                          "aaggcfbaddfcfa",
                          "abgfgagaebadec",
                          "adegcbd",
                          "gbbdebebfd",
                          "cdbbcecefagfffecdagded",
                          "fedcbcfbbdadceacc",
                          "gdfdccaadga",
                          "ffbeafgecbcfaddcefgee",
                          "efgdgdbcgcffb",
                          "bccgcgb",
                          "fgfdcacbafedg",
                          "eeegccbd",
                          "cgad",
                          "adffdegdaefcbcegafdbd",
                          "cebgadbfgg",
                          "babbcfecd",
                          "adaabfefaacfe",
                          "gbcbgebdefcedefdccadga",
                          "dbbfdccccbcbefffebcegefefca",
                          "geacdeefaagac",
                          "ccddgggdfbcgbcaedbf",
                          "fccdbgfdege",
                          "deebaedabcgdfefdacae",
                          "abaebbcaefcgdedabf",
                          "daccdaagdfg",
                          "fggdf",
                          "adagfbceabdafgegccd",
                          "ffdagbefbddafffdbeeecgd",
                          "gefgag"};

  // {"eae", "ea", "aaf", "bda",   "fcf",
  //                      "dc",  "ac", "ce",  "cefde", "dabae"};
  //{"a", "ab", "abc", "d", "cd", "bcd", "abcd"};
  //{"abcw", "baz", "foo", "bar", "fxyz", "abcdef"};

  IC(maxProduct(words) == 91);

  return 0;
}
